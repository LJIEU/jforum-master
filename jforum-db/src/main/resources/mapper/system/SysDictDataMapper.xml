<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace等于mapper接口类的全限定名,这样实现对应 -->
<mapper namespace="com.liu.db.mapper.SysDictDataMapper">
    <resultMap id="SysDictDataMapperResult" type="com.liu.db.entity.SysDictData">
        <result property="dictCode" column="dict_code"/>
        <result property="dictLabel" column="dict_label"/>
        <result property="dictValue" column="dict_value"/>
        <result property="dictType" column="dict_type"/>
        <result property="cssClass" column="css_class"/>
        <result property="listClass" column="list_class"/>
        <result property="isDefault" column="is_default"/>
        <result property="sort" column="sort"/>
        <result property="status" column="status"/>
        <result property="createBy" column="create_by"/>
        <result property="createTime" column="create_time"/>
        <result property="updateBy" column="update_by"/>
        <result property="updateTime" column="update_time"/>
        <result property="remark" column="remark"/>
    </resultMap>

    <sql id="selectSysDictDataVo">
        select *
        from `sys_dict_data`
    </sql>
    <insert id="insert" parameterType="com.liu.db.entity.SysDictData">
        insert into sys_dict_data
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="dictCode != null">
                dict_code,
            </if>
            <if test="dictLabel != null and dictLabel.length() > 0">
                dict_label,
            </if>
            <if test="dictValue != null and dictValue.length() > 0">
                dict_value,
            </if>
            <if test="dictType != null and dictType.length() > 0">
                dict_type,
            </if>
            <if test="cssClass != null and cssClass.length() > 0">
                css_class,
            </if>
            <if test="listClass != null and listClass.length() > 0">
                list_class,
            </if>
            <if test="isDefault != null and isDefault.length() > 0">
                is_default,
            </if>
            <if test="sort != null">
                sort,
            </if>
            <if test="status != null and status.length() > 0">
                status,
            </if>
            <if test="createBy != null and createBy.length() > 0">
                create_by,
            </if>
            <if test="remark != null and remark.length() > 0">
                remark,
            </if>
            create_time
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="dictCode != null">
                #{dictCode},
            </if>
            <if test="dictLabel != null and dictLabel.length() > 0">
                #{dictLabel},
            </if>
            <if test="dictValue != null and dictValue.length() > 0">
                #{dictValue},
            </if>
            <if test="dictType != null and dictType.length() > 0">
                #{dictType},
            </if>
            <if test="cssClass != null and cssClass.length() > 0">
                #{cssClass},
            </if>
            <if test="listClass != null and listClass.length() > 0">
                #{listClass},
            </if>
            <if test="isDefault != null and isDefault.length() > 0">
                #{isDefault},
            </if>
            <if test="sort != null">
                #{sort},
            </if>
            <if test="status != null and status.length() > 0">
                #{status},
            </if>
            <if test="createBy != null and createBy.length() > 0">
                #{createBy},
            </if>
            <if test="remark != null and remark.length() > 0">
                #{remark},
            </if>
            sysdate()
        </trim>
    </insert>
    <update id="update" parameterType="com.liu.db.entity.SysDictData">
        update sys_dict_data
        <trim prefix="set" suffixOverrides=",">
            <if test="dictLabel != null and dictLabel.length() > 0">
                dict_label = #{dictLabel},
            </if>
            <if test="dictValue != null and dictValue.length() > 0">
                dict_value = #{dictValue},
            </if>
            <if test="dictType != null and dictType.length() > 0">
                dict_type = #{dictType},
            </if>
            <if test="cssClass != null and cssClass.length() > 0">
                css_class = #{cssClass},
            </if>
            <if test="listClass != null and listClass.length() > 0">
                list_class = #{listClass},
            </if>
            <if test="isDefault != null and isDefault.length() > 0">
                is_default = #{isDefault},
            </if>
            <if test="sort != null">
                sort = #{sort},
            </if>
            <if test="status != null and status.length() > 0">
                status = #{status},
            </if>
            <if test="updateBy != null and updateBy.length() > 0">
                update_by = #{updateBy},
            </if>
            <if test="remark != null and remark.length() > 0">
                remark = #{remark},
            </if>
            update_time = sysdate(),
        </trim>
        where dict_code = #{dictCode}
    </update>
    <update id="updateAllDictType">
        update sys_dict_data
        set dict_type = #{newDictType}
        where dict_type = #{oldDictType}
    </update>

    <delete id="deleteById">
        delete
        from sys_dict_data
        where dict_code = #{dictCode}
    </delete>

    <select id="selectSysDictDataList" parameterType="com.liu.db.entity.SysDictData"
            resultMap="SysDictDataMapperResult">
        <include refid="selectSysDictDataVo"/>
        <where>
            <if test="dictType != null and dictType.length() > 0">
                and `dict_type` like concat(#{dictType},'%')
            </if>
            <if test="dictLabel != null and dictLabel.length() > 0">
                <bind name="dictLabel" value="dictLabel + '%'"/>
                and `dict_label` like #{dictLabel}
            </if>
        </where>
    </select>
    <select id="selectSysDictDataByDictCode" resultType="com.liu.db.entity.SysDictData">
        <include refid="selectSysDictDataVo"/>
        <where>
            dict_code = #{dictCode}
        </where>
    </select>
</mapper>